Обновление eslint до 8.57

Что бы подключить кастомное правило не устанавливая плагин через пакетный менеджер нужно использовать eslint@8.57 и выше. В версиях ниже плагин нужно устанавливать.

> Одно из важнейших примечаний. В главном package.json мы указываем "type": "module"

### пример с eslint@8.22

- [package.json](./01_example/plugin/package.json)
- [index.js](./01_example/plugin/index.js)
- [custom-rule.js](./01_example/plugin/custom-rule.js)

Файл [.eslintrc.json](./01_example/.eslintrc.json)

установить плагин

`npm i ./01_example/plugin`

Данный пример рабочий, но не хотелось бы устанавливать отдельный пакет.

Проблема в том что до версии eslint@8.57 в поле plugins можно передавать только строки, но нельзя передать путь к плагину.

### Версия eslint@8.57

[Ссылка на доку](https://eslint.org/docs/v8.x/extend/custom-rule-tutorial)

Первая проблема заключалась в том, что я сначала смотрел на версию [eslint@9](https://eslint.org/docs/latest/use/configure/plugins#configure-plugins) и там у меня вышло сразу же без установки подключить кастомное правило, но наши зависимости очень туго подходили под 9ую версию eslint и я стал пытаться каким нибудь образом подключить кастомное правило в версию 8.22. В чем была проблема переключиться в документации на версию 8 сразу-же? Я не знаю, просто наверное я не умею пользоваться документацией)

> Тут я смухлевал. Я установил vue-3, пройдя всю конфигурацию проекта у меня пояивился готовый конфиг eslint.config.js

После некоторых мучений я все таки переключил документацию на eslint@8.57. Переустановил все зависимости которые будут подходить для новой версии eslint и в добавок будут мэтчиться с нашими зависимостями.

В итоге вышло как-то так:

```
"devDependencies": {
  "@typescript-eslint/parser": "^6.0.0",
  "eslint": "^8.57.0",
  "eslint-config-prettier": "^9.1.0",
  "eslint-plugin-etc": "2.0.3",
  "eslint-plugin-import": "^2.29.1",
  "eslint-plugin-prettier": "^5.2.1",
  "eslint-plugin-vue": "^9.27.0",
  "eslint-plugin-vue-scoped-css": "^2.8.1",
  "prettier": "^3.3.3"
  "prettier": "^3.3.3",
  "stylelint": "^15.7.0",
  "stylelint-config-html": "1.1.0",
  "stylelint-config-rational-order": "0.1.2",
  "stylelint-config-recommended-vue": "1.4.0",
  "stylelint-order": "6.0.3",
  "stylelint-prettier": "^4.0.0",
  "typescript": "~5.2.0",
  "typescript-eslint": "^7.16.1",
  "vite-plugin-checker": "0.6.0",
  "vue-tsc": "^1.8.8"
}
```

Что-же дальше я стал подключить по [доке](https://eslint.org/docs/v8.x/use/configure/configuration-files) которое все еще мне не подходило. Тут говорится что для конфигурационного файла, нужно использовать форматы:
- .eslintrc.js
- .eslintrc.cjs
- .eslintrc.yaml
- .eslintrc.yml
- .eslintrc.json
- package.json

Меня это не устраивало.

Пролистав ниже я нашел ["advanced"](https://eslint.org/docs/v8.x/extend/custom-rule-tutorial#step-8-use-the-plugin-locally) конфигурацию, в которой наконец говорят что можно использовать такой тип файла как и в 9ой версии eslint, что я уже знаю и умею.

[Пример](./02_example/eslint.config.js)

Описание:

- Расширения
  - они импортируются как отдельные модули и их можно устанавливать для разных файлов отдельно. Фильтрация происходит по ключу `files: ["**/*.{js,mjs,cjs,ts,vue}"]`
- Плагины
  - Теперь в данном конфиге плагины имеют тип "коюч": "значени". А значение это как раз объект плагина

На самом деле там много чего поменялось, так что рекомендую смотреть [страницу с миграцией](https://eslint.org/docs/latest/use/configure/migration-guide) и ориентироваться на канувшие в лету ключи

Например вот что стало с [ignorePatterns](https://eslint.org/docs/latest/use/configure/migration-guide#ignoring-files)

Беды на этом не закончились. Я долго мучался с ошибками eslint. Eslint либо не мог видеть правило либо не мог корректно импортировать файл с кастомным плагином. В итоге я асинхронно импортировал файл с плагином и только после этого eslint смог корректно подхватить плагин.

Так же проблема с импортом json. Почему-то мне казалось что js с этим разбереться, но что-то как то не вышло)))
В итоге я нашел эксперементальный способ, для node v18.
```
import someJSON from "path-to-json" assert { type: "json" };
```
Да я использовал 18ую версии ноды. Ну вот так вот. В общем меня стало смущать что node жалуется что данный импорт может стать deprecated в будущем, я решил переделать на fs reader file от node - проверенный и рабочий способ. Что же, все правила которые используются в json могут быть либо вставленны либо раскрыты через spread оператор.
